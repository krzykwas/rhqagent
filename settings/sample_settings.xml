<?xml version="1.0"?>
<settings>
	<src-servers>
		<src-server>
			<name>cim1</name>
			<protocol>wbem</protocol>
			<uri>https://localhost</uri>
			<username>root</username>
			<password>toor</password>
		</src-server>
		<src-server>
			<name>cim2</name>
			<protocol>wbem</protocol>
			<uri>https://124.124.124.124:12345</uri>
			<username>root</username>
			<password>toor</password>
		</src-server>
	</src-servers>

	<dst-servers>
		<dst-server>
			<name>local</name>
			<protocol>rhq</protocol>
			<uri>http://localhost:7080</uri>
			<username>root</username>
			<password>toor</password>
		</dst-server>
		<dst-server>
			<name>remote</name>
			<protocol>rhq</protocol>
			<uri>http://123.123.123.123:7080</uri>
			<username>remote</username>
			<password>r3mot3</password>
		</dst-server>
	</dst-servers>

	<data-mappings>
		<data-mapping>
			<src-server>
				<name>cim1</name>
			</src-server>
			<mapped-object>
				<namespace>root/cimv2</namespace>
				<name>Linux_Processor</name>
				<index>0</index>
				<attribute>LoadPercentage</attribute>
			</mapped-object>
			<dst-servers-mappings>
				<dst-server-mapping>
					<name>local</name>
					<map-to>CpuPerc.sys</map-to>
					<update-interval>5</update-interval>
				</dst-server-mapping>
				<dst-server-mapping>
					<name>remote</name>
					<map-to>Native.MemoryInfo.free</map-to>
					<update-interval>15</update-interval>
				</dst-server-mapping>
			</dst-servers-mappings>
		</data-mapping>

		<data-mapping>
			<src-server>
				<name>cim2</name>
			</src-server>
			<mapped-object>
				<namespace>root/cimv2</namespace>
				<name>Linux_Processor</name>
				<index>1</index>
				<attribute>CurrentClockSpeed</attribute>
			</mapped-object>
			<dst-servers-mappings>
				<dst-server-mapping>
					<name>remote</name>
					<map-to>Native.MemoryInfo.free</map-to>
					<update-interval>10</update-interval>
				</dst-server-mapping>
			</dst-servers-mappings>
		</data-mapping>
	</data-mappings>
	
	<callbacks>
		<callback>
<function>
<![CDATA[
print("1")
#metric1 = args[0]
#metric2 = args[1]
	
#return metric1[0]+0.75*metric1[1]+0.5*metric1[2] + metric2[0]+0.75*metric2[1]+0.5*metric2[2]
]]>
</function>
			<params>
			    <param>
			        <src-server>
		        		<name>cim-ubuntu</name>
		    		</src-server>
		    		<mapped-object>
		        		<namespace>root/cimv2</namespace>
		        		<name>Linux_Processor</name>
		        		<index>0</index>
		        		<attribute>LoadPercentage</attribute>
		    		</mapped-object>
			    </param>
			    <param>
			        <src-server>
		        		<name>cim-ubuntu</name>
		    		</src-server>
		    		<mapped-object>
		        		<namespace>root/cimv2</namespace>
		        		<name>Linux_Processor</name>
		        		<index>1</index>
		        		<attribute>LoadPercentage</attribute>
		    		</mapped-object>
			    </param>
			</params>
			<dst-servers-mappings>
		        <dst-server-mapping>
		            <name>rhq-ubuntu</name>
		            <map-to>CpuPerc.idle</map-to>
		            <update-interval>6</update-interval>
		        </dst-server-mapping>
		    </dst-servers-mappings>
		</callback>
	</callbacks>
</settings>
